seed: 42 #Global RNG seed

training:
  total_timesteps: 120000
  fee_rate: 0.0
  # New parameters for iterative training
  max_iterations: 100
  improvement_threshold: 0.20
  additional_timesteps: 1000
  n_stagnant_loops: 20
  verbose: 0  # 0 for minimal output, 1 for normal, 2 for detailed
  # Evaluation metric configuration
  evaluation:
    metric: "return"  # Options: "return" (total return percentage), "hit_rate" (percentage of profitable trades), or "prediction_accuracy" (percentage of correct price direction predictions)

data:
  train_ratio: 0.6
  validation_ratio: 0.2
  test_ratio: 0.2
  market_hours_only: true  # Filter data to only include NYSE market hours (9:30 AM to 4:00 PM ET, Monday to Friday)

indicators:
  supertrend:
    enabled: true
    length: 20
    multiplier: 4
    smooth_periods: 3
    lookback_periods: 2
  rsi:
    enabled: true
    length: 14
  cci:
    enabled: true
    length: 20
  adx:
    enabled: true
    length: 14
  adx_pos:
    enabled: true
  adx_neg:
    enabled: true
  stoch_k:
    enabled: true
    length: 14
  stoch_d:
    enabled: true
    length: 3
  macd:
    enabled: true
    fast: 12
    slow: 26
    signal: 9
  roc:
    enabled: true
    length: 10
  williams_r:
    enabled: true
    length: 14
  sma:
    enabled: true
    length: 20
  ema:
    enabled: true
    length: 20
  disparity:
    enabled: true
  atr:
    enabled: true
    length: 14
  obv:
    enabled: true
  cmf:
    enabled: true
    length: 20
  psar:
    enabled: true
    af: 0.02
    max_af: 0.2
  volume:
    enabled: true
    ma_length: 20
  vwap:
    enabled: true
  day_of_week:
    enabled: true
  minutes_since_open:
    enabled: true

environment:
  initial_balance: 10000.0
  position_size: 1  # Number of NQ futures contracts to trade (default: 1)
  transaction_cost: 0.0  # Transaction cost as percentage

model:
  ent_coef: 0.00011640494075069245
  learning_rate: 0.0029977835304081614
  n_steps: 465
  batch_size: 17
  gamma: 0.95
  gae_lambda: 0.95
  use_lr_decay: true

# Risk management configuration for trade.py
risk_management:
  # Enable/disable risk management features
  enabled: true  # Master switch to enable/disable all risk management
  
  # Daily risk limit configuration
  daily_risk_limit:
    enabled: false  # Enable/disable daily risk limit
    max_daily_loss: 1000.0  # Maximum dollar loss allowed per trading day
  
  # Stop loss configuration
  stop_loss:
    enabled: false 
    mode: "atr"  # Options: "percentage", "atr"
    percentage: 5  # Stop loss as percentage of portfolio value (used when mode="percentage")
    atr_multiplier: 3.0  # Stop loss as multiple of ATR (used when mode="atr")
  
  # Take profit configuration
  take_profit:
    enabled: false 
    mode: "atr"  # Options: "percentage", "atr"
    percentage: 20  # Take profit as percentage of portfolio value (used when mode="percentage")
    atr_multiplier: 5.0  # Take profit as multiple of ATR (used when mode="atr")
  
  # Trailing stop loss configuration
  trailing_stop:
    enabled: false
    percentage: 1.0  # Trailing stop as percentage of highest/lowest price
  
  # Position sizing configuration
  position_sizing:
    enabled: false
    size_multiplier: 1.0  # Position size as a multiplier (1.0 = 100% of available capital)
    max_risk_per_trade_percentage: 1.0  # Maximum risk per trade as percentage of portfolio

# Walk-forward testing configuration
walk_forward:
  enabled: true  # Set to true to use walk-forward testing instead of standard train/val/test
  window_size: 120  # Size of each walk-forward window in trading days (NYSE business days)
  step_size: 30    # Number of trading days to step forward at each iteration (NYSE business days)
  parallel_processing:
    enabled: true   # Enable parallel processing of walk-forward windows
    n_processes: 0  # Number of processes to use (0 = auto-detect based on CPU cores)
    max_workers: 0  # Maximum number of workers (0 = use n_processes)

# Hyperparameter tuning configuration
hyperparameter_tuning:
  enabled: false  # Set to true to enable hyperparameter tuning during training
  n_trials: 30     # Number of trials for the optimization
  parallel_processing:
    enabled: true  # Whether to run trials in parallel
    n_jobs: 0      # Number of parallel jobs (0 = auto-detect based on CPU cores)
  # Parameters to tune (these are the search spaces)
  parameters:
    learning_rate: 
      min: 0.00001
      max: 0.001
      log: true
    n_steps:
      min: 500
      max: 2000
      log: true
    ent_coef:
      min: 0.00001
      max: 0.5
      log: true
    batch_size:
      min: 8
      max: 128
      log: true
    # Fixed values for gamma and gae_lambda
    gamma: 0.995  # Fixed value instead of search range
    gae_lambda: 0.95  # Fixed value instead of search range
